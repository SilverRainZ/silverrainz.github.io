=======
2020-11
=======

.. contents::
   :local:

杀猪盘
======

    杀猪盘是一种流行于东南亚地区的诈骗方式，所以也叫“东南亚杀猪盘”。

    “猪”，把交友工具（APP及婚恋网站）叫“猪槽”，把聊天剧本叫“猪饲料”，
    把恋爱叫“养猪”， 把诈骗钱财叫“杀猪”，是一种新型网络电信诈骗方式。

    杀猪盘诈骗比其他电信诈骗的过程事件长，温水煮青蛙，所以更难识别。
    还有它套着爱情的外衣，高富帅（白富美）形象，编造故事、虚构现实让你尝到甜头，
    甜言蜜语的铮铮誓言等方式，将你引诱到深渊深处，然后一步步地将你吞噬掉。 [#]_

.. [#] https://zhuanlan.zhihu.com/p/84672580

KDE Connect
===========

用 KDE connect 来实现 Linux 和 Android 上的文件互传。

Docutils Hacker's Guide
=======================

.. deprecated:: 2020-11-21

   Moved to :doc:`/notes/docutils/docutils-hacker-guide`

股市基本概念
============

参考知乎的这篇文章 [#]_ 和维基百科：

股票
    是股份制公司发行的所有权凭证，
    非上市公司的股票不能在证券交易所进行流通交易

证券交易所
    专门进行证券交易的场所，本质就是一家公司。我国目前拥有四家证券交易所，
    分别是：上海证券交易所（上交所、沪市）、深圳证券交易所（深交所、深市）、
    香港证券交易所和台湾证券交易所。

IPO
    首次公开募股（Initial Public Offerings）是指一家企业第一次将它的股份向公众出售，
    而上市后再出售股份就是指增发新股了， IPO 只表示第一次出售股票。
    通常说的 IPO 成功，就是指成功在证券交易所上市。

上市公司（Listed Company）
    是指可以在证券交易所公开交易其公司股票、公司债等的股份有限公司
    按上市规则，上市公司必须向投资者及公众，
    于每年六月在股东会公布其公司的财务报表等资料，并接受监察。

价值投资
    投资策略的其中一种，对应的是 :zhwiki:`趋势投资` 。
    其重点是透过 *基本面分析* 中的概念，去寻找并投资于一些股价被低估了的股票。

证券公司
    专门经营证券业务的机构，实际上就是证券交易所的代理商，
    买卖股票需要在证券公司开设一个证券账户，开户成功后可以买卖股票和基金。
    我国规定每个投资者最多可以开设三个证券账户。

三方存管
    客户交易结算资金第三方存管，是银行的一项业务。
    在证券公司开户的时候必须指定一张银行卡作为三方存管，这张银行卡是连接证券账户和银行账户的唯一通道，保障投资者的资金不被证券公司非法挪用。

股价指数
    包含多种股票，是反映市场上组成股票价值的一个数据。
    通常被用于展现组成股票的共通特性，例如在同一个证券交易所交易，
    属于同一个产业，或有相同的市值。
    许多指数是由报章或财经期刊编制作为投资组合（例如共同基金）绩效评估的基准点。
    e.g. 沪深300、道琼斯工业指数 等。

A 股
    此处指那些在中国大陆注册、在中国股票市场股票上市的普通股，以人民币认购和交易。
    并非指股票分类中的 :zhwiki:`A股` 。

    沪深 300 指由中国市值最大的300只上市公司股票构成，覆盖了沪深市场六成左右的市值，
    具有良好的市场代表性。
    中证 500 是由全部 A 股中剔除沪深 300 指数成份股及总市值排名前300名的股票后，
    总市值排名靠前的 500 只股票组成，综合反映中国 A 股市场中一批中小市值公司的股票价格表现。
    这两指数成份股已经可以代表中国的股票市场。 [#]_

国内股票交易费用
    - 佣金: 券商收取，买与卖兼收，每笔最低 5 元，超过后则按佣金比例收取，
      目前大部分为万分之 3 或万分之 2.5
    - 印花税: 国税局收取，卖出股票时收取，比例为成交金额的 0.1%
    - 过户费: 上交所收取，交易沪市股票时收取，比例为成交金额的 0.002%
    - 规费: 有的证券公司已包含在佣金里面，有的另外收取，具体看券商


.. [#] https://zhuanlan.zhihu.com/p/110135677
.. [#] https://www.zhihu.com/question/19886672/answer/654496044

富途 APP 界面解读
=================

"小米集团-W" 的 "-W" 后缀
    W 指 "Weighted Voting Right" (WVR)，即 "同股不同权"，
    小米是港交所第一支同股不同权的股票，所以也是第一个带有此后缀的。 [#]_
    更具体的股份简称命名手册，可以查看 `港交所的页面`_ 。

同股不同权
    又称双重股权结构、AB 股结构。

    .. note:: 此处的 A 股要和 :zhwiki:`A股 (中国)` 区分开来

    指流通股（A 股）与非流通股（B 股）的股东权利事实上的不平等，
    既表现在两类股东在公司的决策权与分配权上的不平等（B 股有更高的投票权），
    又表现在两类股票在证券市场上的流通性不同（B 股无法上市交易）。 [#]_

K 线
    又称阴阳烛、蜡烛线，是反映价格走势的一种图线，其特色在于一个线段内记录了多项讯息，
    相当易读易懂且实用有效，广泛用于股票、期货、贵金属、数字货币等行情的技术分析。

    K 线可分“阳线”、“阴线”和“中立线”三种，阳线代表收盘价大于开盘价，
    阴线代表开盘价大于收盘价，中立线则代表开盘价等于收盘价。
    为了配合传统习惯，阳线以红色表示，阴线以绿色表示，即是红升绿跌。
    在香港和欧美，阴线以红色表示，阳线以绿色表示，绿升红跌。 [#]_

    在界面上，日K、周K... 1分、3分、1小时 ... 分别代表了不同时间范围内的 K 线图。

MA 线
    又称均线、成本线，全称为移动平均（Moving Average）线。
    代表在一段时间内买入股票的平均成本，反映了股价在一定时期内的强弱和运行趋势。

    通俗点，即：過去一段時間市場的「平均成交價格」，计算方式为：
    將 N 天的收盤價加總，再除以 N，得到第 N 天的算術平均線數值。 如果在開盤期間，
    會以當下的收盤價去計算 [#]_

    在界面上，MA5、MA10、MA20... 就是不同天数均线指标。

.. [#] https://news.mydrivers.com/1/584/584054.htm
.. [#] https://wiki.mbalib.com/wiki/%E5%90%8C%E8%82%A1%E4%B8%8D%E5%90%8C%E6%9D%8
.. [#] :zhwiki:`K线`
.. [#] https://www.cmoney.tw/learn/course/technicals/topic/485

.. _港交所的页面: https://sc.hkex.com.hk/TuniS/www.HKEX.com.hk/Products/Securities/Naming-Conventions-of-Stock-Short-Name-by-Product-Types?sc_lang=zh-cn

Android 上的照片管理软件
========================

Camera Roll
    Pros:
        忘了……
    Cons:
        - 速度慢
        - UI 不讨喜
Scene
    Pros:
        - 界面好看
        - 有专门的整理界面且交互非常好
        - 有同步功能
    Cons:
        - 订阅制付费，不能买断
        - 免费版无法添加视频到相册
        - 登陆帐号时同步无法关闭
SlideBox
    Pros:
        - 专门的照片整理应用，对于简单的照片整理非常方便
    Cons:
        - 为旧版安卓设计，大概很久不更新
        - 设计太过精简，从大量照片中抽取若干张不方便

- Google 图库精简版
    什么都没有

- Google 相册
    Pros:
        - 好看，和系统集成度高
    Cons:
        - 影集功能不好用，创建都要联网

CCTalk 课件转 PDF
=================

手机上打开 CC Talk 课程， 用 :aur:`scrcpy` 连上。

用 xdotool 获取 scrcpy 窗口 ID，切页按钮 X-Y 坐标，手动填写课件页数。用以下脚本定时切页 + 截图:

.. code-block:: bash
   :caption: auto.sh

   #!/bin/sh

   X=1259
   Y=389
   WIN=54525974
   PG=178

   notify-send Pending....
   sleep 5
   notify-send Start!

   for i in $(seq 1 $PG); do
       xdotool mousemove $X $Y
       xdotool key --window $WIN Ctrl+Alt+a
       sleep 0.8
       xdotool click --window $WIN Ctrl+Alt+a
       sleep 0.5
   done

   notify-send Done!

:kbd:`Ctrl+Alt+a` 绑定触发截屏脚本：

.. code-block:: bash
   :caption: auto.sh

   #!/bin/sh

   CH=$(cat ch.txt)
   I=$(cat counter.txt)
   PG=$(printf "%03d" ${I})
   echo Chapter ${CH}, Page ${PG}

   mkdir -p ch${CH}
   maim -u -f jpg ch${CH}/${PG}.jpg

   echo $((I+1)) > counter.txt

截完一章用 krita 看需要裁掉的边缘的坐标，用以下脚本裁剪：

.. code-block:: bash
   :caption: cut.sh

   #!/bin/sh

   for i in 15; do
       cd ch${i}
       for j in $(ls); do
           mogrify -crop 864x630+232+80 ${j}
       done
       cd ..
   done

从网页上复制章节名字，用 ImageMagick 生成封面:

.. code-block:: bash
   :caption: mkcover.sh

   #!/bin/sh

   title=()

   j=1
   for i in "${title[@]}"; do
       mkdir -p ch${j}
       convert \
           -background white \
           -fill black \
           -pointsize 72 \
           -font Noto-Serif-CJK-SC-Medium \
           label:"${i}" \
           ch${j}/000.jpg
       j=$((j+1))
   done

从截图生成 PDF：

.. code-block:: bash
   :caption: mkpdf.sh

   #!/bin/sh

   title=()

   for i in 15; do
       cd ch${i}
       j=$((i-1))
       convert $(ls *.jpg) "../${title[j]}.pdf"
       cd ..
   done

但这一切毫无意义 ——  2021-08-11

The Docutils Document Tree
==========================

.. deprecated:: 2020-11-21

   Moved to :doc:`/notes/sphinx-as-pim/doctree`

佛历二五三三年
==============

.. sidebar:: 万佛塔后的奠基碑

   .. figure:: /_images/20201115112031_p.jpg
      :align: left
      :scale: 20%

今日去灵山寺，荒废的万佛塔后边有块奠基碑，落款年份「佛历二五三三年」，于是搜了一下佛历：

    佛历，一种传统历法，为阴阳历，这种历法盛行于南亚和东南亚的佛教国家，
    如柬埔寨、泰国。其纪年法，称佛灭纪元，以释迦牟尼佛灭度（涅槃）当年度为计算基准。
    一般以 *公元前544年* 为佛涅槃元年 [#]_

由此可知，佛灭纪年的年份减去 544 即为公元纪年， `2533 - 544 = 1989` ，
所以万佛塔奠基于公元 1989 年。

BTW 上文提到阴阳历，查了下也是个有意思的概念：

    阴阳合历，又称太阴太阳历，是为许多文化采用的历法，其日期采朔望月以指示月球的相位，
    年则与太阳相关，且一年的月数必须是整数。大多采用太阳年以回归年定义，也有采用恒星年定义者。
    采用阴阳合历的主要目的是配合季节，因此需要安排闰月来调整，大多数的年有12个月，
    闰年就会有13个月 [#]_

对应地， :zhwiki:`阴历` 是按月相周期安排的历法，:zhwiki:`阳历` 是按地球绕日公转安排的历法。
我们把之所以把月份称之为月份，把一年的第一天叫做 元旦 [#]_ ，
想来和历史上曾施行的历法有密不可分的关系。

.. [#] :zhwiki:`佛历`
.. [#] :zhwiki:`阴阳合历`
.. [#] 旦：甲骨文字形，象太阳从地面刚刚升起的样子

LilyPond 文件结构 [#]_
======================

.. versionchanged:: 2020-08-16

   Moved to :doc:`/man/lily`.

形而上学的一些基本概念
======================

为铅灰的《存在主义精神治疗法》准备。

存在主义
    存在主义认为存在的意义是无法经由理性思考而得到答案的，“存在先于本质” “人就是他行为的总和”
不可知论
    不可知论者不否认神的存在，只是认为人无法知道或无法确认其是否存在
虚无主义
    虚无主义作为哲学意义，是怀疑主义的极致形式。
    认为世界、生命（特别是人类）的存在是没有客观意义、目的以及可以理解的真相
达达主义
    粗暴地说，反艺术的艺术虚无主义

以上全部摘录于中文维基百科。

Yield in Python
===============

简单来说，使用了 `yield` 关键字的函数被 `__call__` 时，函数体不会被执行，
而是返回一个 Generator 对象，这个对象是 iterable 的。当该对象被 `__iter__` 的时候，
对应的函数体开始执行，遇到 `yield` 时返回，当该对象被 `__next__` 的时候，
从上次 yield 的地方 resume。

.. seealso:: 这篇 SO 的回答很通俗了： https://stackoverflow.com/a/231855
